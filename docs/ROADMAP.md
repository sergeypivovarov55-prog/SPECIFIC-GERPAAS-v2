# SPECIFIC-GERPAAS v2 — Дорожня карта (ROADMAP)

## 1. Призначення
Цей документ фіксує поточний стан розробки, завершені етапи та план подальших робіт. Всі зміни вносяться тільки після узгодження. Документ використовується як контроль технічних рішень.

## 2. Поточний стан
- Плагін компілюється під .NET Framework 4.8 (C# 7.3), Revit 2022.
- Є підключення Microsoft.Data.Sqlite і чтення бази `gerpaas.db`.
- Реалізована побудова артикула GERPAAS для частини виробів DKC.
- Налаштовано логування у `Message.log`.
- Реалізовано читання параметрів Revit (розміри, кут, довжина).
- Працює читання конфігурації з `Data/GERP_param_map.ini`.
- Реалізована базова логіка специфікації (перетворення моделі у табличні дані).
- Фіксується параметр `GE_Варіант` для ручного перемикання логіки SDE.
- Потрібно завершити модуль специфікації й стабілізувати обробку всіх типів виробів.

## 3. Завершені етапи
| № | Етап | Статус |
|---|------|--------|
| 3.1 | Ініціалізація репозиторію GitHub | Виконано |
| 3.2 | Налаштування структури проекту | Виконано |
| 3.3 | Інтеграція Sqlite | Виконано |
| 3.4 | Читання конфігурації GERP_param_map.ini | Виконано |
| 3.5 | Побудова артикула для лотків | Виконано |
| 3.6 | Побудова артикула для горизонтальних вигинів 45/90 | Виконано |
| 3.7 | Вибір SDE через параметр GE_Варіант | Виконано |
| 3.8 | Логування процесу в Message.log | Виконано |

## 4. Технічний борг
| Проблема | Опис |
|----------|------|
| Відсутність Unit Tests | Потрібно створити набір тестів для ArticleBuilder і SizeHelper |
| Відсутній CI | Збірка не автоматизована |
| Відсутня документація API | Додати опис для модулів Core |
| Експорт | Частково реалізовано, потребує перенесення в окремий модуль і доробки |
| Параметри Revit | Можливі розсинхронізації при оновленні моделей користувача |

## 5. План робіт

### 5.1 Поточний етап: Модуль специфікації (завершення логіки)
| № | Задача | Стан |
|---|--------|------|
| 5.1.1 | Доробити артикули для вертикальних вигинів 45/90 | В роботі |
| 5.1.2 | Додати логіку кришок вигинів | В роботі |
| 5.1.3 | Обробити кришки прямих лотків | Частково |
| 5.1.4 | Виправити GE_Кількість для всіх типів | В роботі |
| 5.1.5 | Завершити категоризацію 1/2/3 (лотки/деталі/аксесуари) | В роботі |
| 5.1.6 | Обробити залишкові аксесуари (пізніше) | Планується |
| 5.1.7 | SDE: перевірка стабільності | Планується |
| 5.1.8 | Логіка для undefined елементів | Планується |

### 5.2 Наступні етапи
| Етап | Опис |
|------|------|
| Експорт специфікації | Експорт у CSV/Excel як окремий модуль |
| UI покращення | Валідація обраної товщини та покриття |
| Контроль якості | Впровадження модульних тестів |
| Виробнича версія | Оптимізація і підготовка релізу |

## 6. Правила розробки
1. Всі зміни тільки через гілки Git (`feature/...`, `fix/...`).
2. Обов’язковий лог у `Message.log` для ключових операцій.
3. Не змінювати дані в `gerpaas.db` вручну, тільки через API.
4. Перед комітом — форматування коду.
5. Будь-яка логіка має бути розширюваною, без хардкоду.

## 7. Контроль прогресу
Фіксація етапів кожні 5–10 комітів. Всі зміни узгоджуються через Jira/чат.

## 8. Ліміт повідомлень
Система моніторингу перевіряє кількість повідомлень у технічному діалозі.
Попередження на етапах:
- 1000 повідомлень
- 1200 повідомлень
- 1500 повідомлень (межа, завершення гілки діалогу)

